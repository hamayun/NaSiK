
***********************************************
Always start with

source ./install_env.sh
***********************************************

SystemC
=======
Pre-compiled in /opt/libs/systemc-2.2.0/

Rebuild in ../Build/systemc-2.2.0/
../../Common/systemc-2.2.0/configure --prefix=/opt/libs/systemc-2.2.0/ --build=i686-pc-linux-gnu
make all install
------------------------------------------------------------------------------

Transaction Accurate Library
============================
Pre-compiled in /opt/libs/native

Rebuild in hw/native
make all install -s
# PREFIX variable in the makefiles have been replace with NATIVE_HOME

-- ParallelMjpeg Application
------------------------------------------------------------------------------
in examples/ParallelMjpeg

source install.sh
apes-compose 

=> MJPEG

-- Simulation Platform
------------------------------------------------------------------------------
in examples/ParallelMjpeg/hw

make

=> arch.x

usage:
./arch.x <nb_cpu> <trace_on|trace_off> <conf_file(s)> <native_options>
nb_cpu = 1 to 8 (no limits if the ./configuration/config_hw file is updated)

conf_file(s) contains parameters of the instanciated components. Examples are 
in the configuration directory.

run the simulation with 4 cpu (codes demo version)
./arch.x 4 trace_on ./configurations/config_hw ./configurations/config_dna

run the simulation with native (libta) online analysis (patrice thesis version)
./arch.x ./configurations/config_hw ./configurations/config_dna --native-options="analyze online"

waveform.vcd and waveform.sav are generated
(.sav contain gtkwave configuration and is generated by the TA plateform)
filter_op and filter_width are used by gtkwave.

open it with 
gtkwave -A waveform.vcd




