#include <stdio.h>
#include <Processor/Profile.h>

#define SIZE 10

#define ENABLE_IO 0
#define PRINTF if(ENABLE_IO) printf

int m1[SIZE][SIZE] = {
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
					  {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}
					 };

int m2[SIZE][SIZE] = {
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
					  {11, 12, 13, 14, 15, 16, 17, 18, 19, 20}
					 };

int main()
{
    int count = 0;
    CPU_PROFILE_COMP_START();
    while(count++ < 3000)
    {
        int i,j,k, mult[SIZE][SIZE] = {{0}};

        /*a11xA11+a12xA21+a13xA31 a11xA12+a12xA22+a13xA32 a11xA13+a12xA23+a13xA33*/
        PRINTF("Matrix Multiplication ... %d\n", count);

        for(i=0; i < SIZE; i++)
        {
            for(j=0; j < SIZE; j++)
            {
                mult[i][j] = 0;
                for(k=0; k < SIZE; k++)
                {
                    mult[i][j] += m1[i][k] * m2[k][j];
                    /*mult[0][0]=m1[0][0]*m2[0][0]+m1[0][1]*m2[1][0]+m1[0][2]*m2[2][0];*/
                }
                PRINTF("%d  ", mult[i][j]);
            }
            PRINTF("\n");
        }
    }
    CPU_PROFILE_COMP_END();
    CPU_PROFILE_FLUSH_DATA();
    return 0;
}

